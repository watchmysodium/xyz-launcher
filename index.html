<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>XYZ Launcher — Steam Games</title>
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
  :root{--bg:#000;--glass:rgba(20,20,20,0.45);--muted:#bdbdbd}
  *{box-sizing:border-box;font-family:"Pixelify Sans",sans-serif}
  body{margin:0;height:100vh;background:linear-gradient(180deg,#000,#050505);color:#fff;display:flex;overflow:hidden}
  .sidebar{width:220px;background:var(--glass);backdrop-filter:blur(14px);border-right:1px solid rgba(255,255,255,0.04);padding:24px}
  .logo{font-weight:700;letter-spacing:2px;margin-bottom:28px}
  .nav button{display:flex;align-items:center;gap:12px;width:100%;border:0;background:transparent;color:var(--muted);padding:12px;border-radius:8px;text-align:left;cursor:pointer}
  .nav button:hover{background:rgba(255,255,255,0.03);color:#fff}
  .main{flex:1;padding:28px;overflow:auto;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
  .title{font-size:24px;margin-bottom:18px}
  .games{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
  .card{background:rgba(255,255,255,0.03);border-radius:12px;padding:12px;transition:transform .14s;border:1px solid rgba(255,255,255,0.03)}
  .card:hover{transform:translateY(-6px);box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .thumb{width:100%;height:120px;border-radius:8px;object-fit:cover;background:#111}
  .name{font-weight:700;margin-top:10px}
  .desc{color:var(--muted);font-size:13px;margin:8px 0 12px}
  .actions{display:flex;gap:8px;flex-wrap:wrap}
  .btn{border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer;font-size:13px}
  .btn.primary{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.15)}
  .btn:hover{background:rgba(255,255,255,0.15)}
  .muted{color:var(--muted);font-size:13px;margin-top:12px}
</style>
</head>
<body>
  <div class="sidebar">
    <div class="logo">xyz launcher</div>
    <div class="nav">
      <button><span class="material-icons">home</span>Home</button>
      <button><span class="material-icons">apps</span>Library</button>
      <button><span class="material-icons">download</span>Downloads</button>
      <button><span class="material-icons">settings</span>Settings</button>
    </div>
  </div>

  <div class="main">
    <div class="title">Steam Games</div>
    <div id="games" class="games"></div>
    <div class="muted">Powered by Steam's public store API.</div>
  </div>

<script>
const APP_IDS = [1091500, 1174180, 271590, 252490, 578080, 381210, 236850]; // Example: Cyberpunk, RDR2, GTA V, Rust, PUBG, DBD, EU4
const REPACK_SOURCES = {
  FitGirl: "https://hydralinks.pages.dev/sources/fitgirl.json",
  DODI: "https://hydralinks.pages.dev/sources/dodi.json",
  SteamRip: "https://hydralinks.pages.dev/sources/steamrip.json"
};

async function loadGames() {
  const out = document.getElementById('games');
  out.innerHTML = "<div style='color:var(--muted)'>Loading games from Steam...</div>";

  let loaded = 0;
  for (const id of APP_IDS) {
    try {
      const res = await fetch(`https://store.steampowered.com/api/appdetails?appids=${id}`);
      const data = await res.json();
      const info = data[id]?.data;
      if (!info) continue;

      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img class="thumb" src="${info.header_image}" alt="">
        <div class="name">${info.name}</div>
        <div class="desc">${info.short_description || 'No description.'}</div>
        <div class="actions">
          <button class="btn primary" onclick="window.open('https://store.steampowered.com/app/${id}', '_blank')">View on Steam</button>
          <button class="btn" onclick='showRepacks("${encodeURIComponent(info.name)}")'>Downloads</button>
        </div>
      `;
      out.appendChild(card);
      loaded++;
    } catch (err) {
      console.error(err);
    }
  }
  if (!loaded) out.innerHTML = "<div style='color:var(--muted)'>No games loaded.</div>";
}

// show modal-style alert with repack links
async function showRepacks(gameName){
  const name = decodeURIComponent(gameName);
  let text = `<strong>${name}</strong><br><br>Available repacks:<br>`;
  for (const [name, url] of Object.entries(REPACK_SOURCES)){
    text += `<a href="${url}" target="_blank" style="color:#6af">${name}</a><br>`;
  }
  text += `<br><em>Support the devs — piracy is a crime.</em>`;
  
  const modal = document.createElement('div');
  Object.assign(modal.style, {
    position:'fixed',inset:0,background:'rgba(0,0,0,0.7)',
    display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999
  });
  modal.innerHTML = `
    <div style="background:#111;padding:20px 26px;border-radius:10px;max-width:420px;text-align:left;border:1px solid rgba(255,255,255,0.05)">
      <div style="font-size:18px;margin-bottom:8px">Download Sources</div>
      <div style="font-size:14px;line-height:1.6">${text}</div>
      <div style="text-align:right;margin-top:16px"><button style="padding:6px 12px;border:0;border-radius:6px;background:#333;color:#fff;cursor:pointer" onclick="this.closest('div').parentNode.remove()">Close</button></div>
    </div>
  `;
  document.body.appendChild(modal);
}

loadGames();
</script>
</body>
</html>
