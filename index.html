<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>XYZ Launcher — Steam Store</title>
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
  :root {
    --bg: #000;
    --glass: rgba(20,20,20,0.45);
    --muted: #bdbdbd;
    --accent: #0af;
  }
  * { box-sizing: border-box; font-family: "Pixelify Sans", sans-serif; }
  body {
    margin: 0; height: 100vh; background: linear-gradient(180deg, #000, #050505);
    color: #fff; display: flex; overflow: hidden;
  }
  .sidebar {
    width: 220px; background: var(--glass); backdrop-filter: blur(14px);
    border-right: 1px solid rgba(255,255,255,0.04); padding: 24px;
  }
  .logo { font-weight: 700; letter-spacing: 2px; margin-bottom: 28px; }
  .nav button {
    display: flex; align-items: center; gap: 12px; width: 100%; border: 0;
    background: transparent; color: var(--muted); padding: 12px; border-radius: 8px;
    text-align: left; cursor: pointer;
  }
  .nav button:hover { background: rgba(255,255,255,0.03); color: #fff; }
  .main {
    flex: 1; padding: 28px; overflow: auto;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  }
  .title { font-size: 24px; margin-bottom: 18px; }
  .games {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 18px;
  }
  .card {
    background: rgba(255,255,255,0.03);
    border-radius: 12px; overflow: hidden;
    cursor: pointer; transition: transform .14s;
  }
  .card:hover { transform: translateY(-6px); box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
  .thumb { width: 100%; height: 150px; object-fit: cover; background: #111; }
  .name { font-weight: 700; padding: 12px; }
  .muted { color: var(--muted); font-size: 13px; margin-top: 12px; }

  /* overlay full-screen */
  .overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.9);
    display: none; flex-direction: column; align-items: center;
    justify-content: center; padding: 20px; overflow-y: auto; z-index: 10;
  }
  .overlay.active { display: flex; }
  .overlay img { width: 60%; border-radius: 12px; margin-bottom: 20px; }
  .overlay h2 { margin: 0 0 12px; }
  .overlay p { max-width: 800px; text-align: center; color: var(--muted); }
  .close-btn {
    position: absolute; top: 20px; right: 30px; cursor: pointer;
    background: rgba(255,255,255,0.1); border: 0; color: #fff;
    font-size: 20px; border-radius: 50%; width: 40px; height: 40px;
  }
</style>
</head>
<body>
  <div class="sidebar">
    <div class="logo">xyz launcher</div>
    <div class="nav">
      <button><span class="material-icons">storefront</span>Store</button>
      <button><span class="material-icons">apps</span>Library</button>
      <button><span class="material-icons">download</span>Downloads</button>
      <button><span class="material-icons">settings</span>Settings</button>
    </div>
  </div>

  <div class="main">
    <div class="title">Trending on Steam</div>
    <div id="games" class="games"></div>
    <div class="muted">Powered by Steam API (via Cloudflare proxy).</div>
  </div>

  <!-- fullscreen overlay -->
  <div class="overlay" id="overlay">
    <button class="close-btn" onclick="closeOverlay()">✕</button>
    <img id="overlayImg" src="">
    <h2 id="overlayName"></h2>
    <p id="overlayDesc"></p>
  </div>

<script>
const APP_IDS = [367520,1030300,1091500,1174180,271590,252490,578080,381210,236850];
const PROXY = "https://cool-dawn-8b67.amargomma50.workers.dev/";

async function loadGames() {
  const out = document.getElementById('games');
  out.innerHTML = "<div style='color:var(--muted)'>Loading games...</div>";

  let html = "";
  for (const id of APP_IDS) {
    try {
      const url = `${PROXY}?url=${encodeURIComponent(`https://store.steampowered.com/api/appdetails?appids=${id}`)}`;
      const res = await fetch(url);
      const data = await res.json();
      const info = data[id]?.data;
      if (!info) continue;

      html += `
        <div class="card" onclick="showOverlay('${info.name}','${info.header_image}','${info.short_description.replace(/'/g,"\\'")}')">
          <img class="thumb" src="${info.header_image}">
          <div class="name">${info.name}</div>
        </div>`;
    } catch (e) {
      console.error(e);
    }
  }
  out.innerHTML = html || "<div style='color:var(--muted)'>No games loaded.</div>";
}

function showOverlay(name, img, desc) {
  const ov = document.getElementById('overlay');
  document.getElementById('overlayName').innerText = name;
  document.getElementById('overlayImg').src = img;
  document.getElementById('overlayDesc').innerText = desc;
  ov.classList.add('active');
}

function closeOverlay() {
  document.getElementById('overlay').classList.remove('active');
}

loadGames();
</script>
</body>
</html>
