<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>xyz-launcher</title>
<style>
  body {
    background: #0a0a0a;
    color: #eee;
    font-family: "Segoe UI", sans-serif;
    margin: 0;
    padding: 20px;
  }
  h1 { text-align: center; color: #0ff; }
  #games { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
  .game {
    background: #111;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 0 10px #000;
  }
  .game img {
    width: 100%;
    border-radius: 10px;
  }
  .links a {
    display: inline-block;
    background: #0ff2;
    color: #0ff;
    text-decoration: none;
    padding: 6px 10px;
    border-radius: 6px;
    margin: 3px;
  }
  .links a:hover {
    background: #0ff5;
  }
</style>
</head>
<body>
<h1>xyz-launcher</h1>
<div id="games">Loading games...</div>

<script>
const proxy = "https://cool-dawn-8b67.amargomma50.workers.dev/";

async function fetchJSON(url) {
  const res = await fetch(proxy + url);
  return res.json();
}

async function loadGames() {
  const container = document.getElementById("games");
  container.innerHTML = "Loading repacks...";

  try {
    const [fitgirl, dodi, steamrip] = await Promise.all([
      fetchJSON("https://hydralinks.pages.dev/sources/fitgirl.json"),
      fetchJSON("https://hydralinks.pages.dev/sources/dodi.json"),
      fetchJSON("https://hydralinks.pages.dev/sources/steamrip.json")
    ]);

    const all = [...fitgirl, ...dodi, ...steamrip];
    container.innerHTML = "";

    for (const game of all) {
      const div = document.createElement("div");
      div.className = "game";
      div.innerHTML = `
        <h3>${game.title}</h3>
        <p><b>Size:</b> ${game.fileSize || "Unknown"}</p>
        <div class="links">
          ${game.source === "fitgirl" ? `<a href="${game.link}" target="_blank">FitGirl</a>` : ""}
          ${game.source === "dodi" ? `<a href="${game.link}" target="_blank">Dodi</a>` : ""}
          ${game.source === "steamrip" ? `<a href="${game.link}" target="_blank">SteamRip</a>` : ""}
        </div>
      `;
      container.appendChild(div);
    }

  } catch (err) {
    console.error(err);
    container.innerHTML = "Failed to load games.";
  }
}

loadGames();
</script>
</body>
</html>
