<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XYZ Launcher</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #0a0a0a;
  color: white;
}
header {
  background-color: #1a1a1a;
  padding: 1rem;
  text-align: center;
  font-size: 1.5rem;
  font-weight: bold;
  border-bottom: 2px solid #222;
}
#games {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 20px;
  padding: 20px;
}
.game {
  background: #141414;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 0 10px #000;
  cursor: pointer;
  transition: transform 0.2s ease;
}
.game:hover {
  transform: scale(1.05);
}
.game img {
  width: 100%;
  height: 150px;
  object-fit: cover;
}
.game h3 {
  margin: 10px;
  font-size: 1.1rem;
}
.loading {
  text-align: center;
  padding: 30px;
  font-size: 1.2rem;
}
</style>
</head>
<body>
<header>XYZ Launcher</header>
<div id="games" class="loading">Loading games...</div>

<script>
async function loadGames() {
  const gamesContainer = document.getElementById('games');
  try {
    const response = await fetch('https://cool-dawn-8b67.amargomma50.workers.dev/');
    const data = await response.json();

    gamesContainer.innerHTML = '';
    for (const id in data) {
      const game = data[id];
      if (!game || !game.data) continue;
      const info = game.data;

      const div = document.createElement('div');
      div.className = 'game';
      div.innerHTML = `
        <img src="${info.header_image || 'https://via.placeholder.com/220x150'}" alt="${info.name}">
        <h3>${info.name}</h3>
      `;
      div.onclick = () => {
        window.location.href = \`game.html?id=\${id}\`;
      };
      gamesContainer.appendChild(div);
    }
  } catch (err) {
    console.error(err);
    gamesContainer.innerHTML = 'Failed to load games ðŸ˜”';
  }
}

loadGames();
</script>
</body>
</html>
